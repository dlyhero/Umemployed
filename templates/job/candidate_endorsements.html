{% extends "resume/base.html" %}   
{% load static %}  
{% load crispy_forms_tags %}   
{% block search_bar %}  
{% endblock search_bar %}  
{% block content %}  
<main class="bg-gray-100 py-10">  
    <div class="max-w-3xl mx-auto">  
        <!-- Page Header -->  
        <h1 class="text-5xl font-extrabold text-gray-800 mb-8 text-center">Endorsement Timeline</h1>  

        <!-- Timeline Container -->  
        <div class="relative border-l-4 border-blue-600">  
            <div id="endorsement-container">  
                {% for endorsement in endorsements %}  
                <div class="endorsement mb-10 ml-6 hidden opacity-0 transition-opacity duration-500">  
                    <!-- Timeline Icon -->  
                    <div class="absolute -left-3.5 bg-blue-600 text-white p-3 rounded-full">  
                        <i class="fa-solid fa-user-check text-lg"></i>  
                    </div>  
                    
                    <!-- Endorsement Content -->  
                    <div class="bg-white p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow">  
                        <h2 class="font-semibold text-xl text-gray-800 mb-2">{{ endorsement.candidate.first_name }} endorsed by @anonymous</h2>  
                        <p class="text-base text-gray-600">{{ endorsement.review }}</p>  

                        <!-- Rating Details -->  
                        <div class="mt-4 space-y-1">  
                            <p class="text-base text-gray-500">Professionalism: <span class="font-semibold">{{ endorsement.professionalism }}</span></p>  
                            <p class="text-base text-gray-500">Skills: <span class="font-semibold">{{ endorsement.skills }}</span></p>  
                            <p class="text-base text-gray-500">Communication: <span class="font-semibold">{{ endorsement.communication }}</span></p>  
                            <p class="text-base text-gray-500">Teamwork: <span class="font-semibold">{{ endorsement.teamwork }}</span></p>  
                            <p class="text-base text-gray-500">Reliability: <span class="font-semibold">{{ endorsement.reliability }}</span></p>  
                        </div>  

                        <!-- Endorsement Date -->  
                        <span class="block text-sm text-gray-400 mt-4">{{ endorsement.created_at|date:"F j, Y - g:i A" }}</span>  
                    </div>  
                </div>  
                {% empty %}  
                <p class="text-center text-gray-500">No endorsements available for this candidate.</p>  
                {% endfor %}  
            </div>  
        </div>  

        <!-- Instructions for the user -->  
        <div class="text-center mt-5">  
            <p class="text-lg text-gray-700">Press any key to see more endorsements.</p>  
        </div>  
    </div>  
    <!-- Footer -->  
    {% block footer %}  
    {% endblock footer %}  

</main>  

<!-- Font Awesome -->  
<script src="https://kit.fontawesome.com/YOUR_FA_KIT.js" crossorigin="anonymous"></script>  

<script>  
    document.addEventListener('DOMContentLoaded', function () {  
        const endorsements = document.querySelectorAll('.endorsement');  
        let currentIndex = 0;  

        function showNextEndorsement() {  
            if (currentIndex < endorsements.length) {  
                const endorsement = endorsements[currentIndex];  
                endorsement.classList.remove('hidden');  
                endorsement.classList.remove('opacity-0');  
                endorsement.classList.add('opacity-100');  
                currentIndex++;  
            }  
        }  

        // Show the first endorsement initially, with fade effect  
        showNextEndorsement();  

        // Show next endorsement on key press  
        document.addEventListener('keydown', showNextEndorsement);  
    });  
</script>  
{% endblock %}