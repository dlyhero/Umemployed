{% load static %}

<div class="container mx-auto pagination flex justify-center items-center space-x-2">
    <span class="step-links flex items-center space-x-2">
        {% if skills.has_previous %}
            <a href="javascript:void(0)" data-page="1" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-700">&laquo; first</a>
            <a href="javascript:void(0)" data-page="{{ skills.previous_page_number }}" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-700">previous</a>
        {% endif %}

        <span class="current px-3 py-1 bg-gray-200 rounded">
            Page {{ skills.number }} of {{ skills.paginator.num_pages }}.
        </span>

        {% with total_pages=5 %}
            {% with start_page=skills.number|add:-2 %}
                {% with end_page=skills.number|add:2 %}
                    {% if start_page < 1 %}
                        {% with start_page=1 %}
                            {% with end_page=total_pages %}
                                {% endwith %}
                            {% endwith %}
                    {% endif %}
                    {% if end_page > skills.paginator.num_pages %}
                        {% with end_page=skills.paginator.num_pages %}
                            {% with start_page=skills.paginator.num_pages|add:-4 %}
                                {% if start_page < 1 %}
                                    {% with start_page=1 %}
                                        {% endwith %}
                                {% endif %}
                            {% endwith %}
                        {% endwith %}
                    {% endif %}
                {% endwith %}
            {% endwith %}
        {% endwith %}

        {% for num in start_page|default:1|to:end_page|default:skills.paginator.num_pages %}
            {% if skills.number == num %}
                <span class="current px-3 py-1 bg-blue-500 text-white rounded">{{ num }}</span>
            {% else %}
                <a href="javascript:void(0)" data-page="{{ num }}" class="px-3 py-1 bg-gray-200 text-black rounded hover:bg-gray-300">{{ num }}</a>
            {% endif %}
        {% endfor %}

        {% if skills.has_next %}
            <a href="javascript:void(0)" data-page="{{ skills.next_page_number }}" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-700">next</a>
            <a href="javascript:void(0)" data-page="{{ skills.paginator.num_pages }}" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-700">last &raquo;</a>
        {% endif %}
    </span>
</div>