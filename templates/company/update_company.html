{% extends 'resume/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load add_class %}

{% block custom_css %}
    <style>
        .candidateList-wrap {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        @media (max-width: 1100px) {
            .candidateList-wrap {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }
        .file-preview {
            margin-top: 10px;
            display: flex;
            flex-direction: column;
        }
        .file-preview img {
            max-width: 200px;
            max-height: 200px;
            margin-top: 5px;
        }
    </style>
{% endblock %}
{% block content %}
    <main class="flex-grow px-2 md:px-3 w-full mx-auto">
        <form class="max-w-3xl mx-auto p-6" method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- Basic Information -->
            <section>
                <h2 class="text-xl font-semibold mb-4">Company Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.name.id_for_label }}">Company Name</label>
                        {{ form.name }}
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.industry.id_for_label }}">Industry</label>
                        {{ form.industry }}
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.size.id_for_label }}">Company Size</label>
                        {{ form.size }}
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.location.id_for_label }}">Location</label>
                        {{ form.location }}
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.founded.id_for_label }}">Year Founded</label>
                        {{ form.founded }}
                        {% for error in form.founded.errors %}
                            <p class="text-red-500 text-xs italic">{{ error }}</p>
                        {% endfor %}
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.website_url.id_for_label }}">Website URL</label>
                        {{ form.website_url }}
                    </div>
                </div>
                <div class="mb-4">
                    <div class="mb-2">
                        <label for="{{ form.country.id_for_label }}" class="block text-gray-600 font-semibold mb-1">Country</label>
                        {{ form.country }}
                    </div>
                </div>
            </section>

            <!-- Contact Information -->
            <section>
                <h2 class="text-xl font-semibold mb-4">Contact Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.contact_email.id_for_label }}">Contact Email</label>
                        {{ form.contact_email }}
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.contact_phone.id_for_label }}">Contact Phone</label>
                        {{ form.contact_phone }}
                    </div>
                </div>
            </section>

           <!-- Description -->
            <section>
                <h2 class="text-xl font-semibold mb-4">Company Description</h2>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700" for="{{ form.description.id_for_label }}">Description</label>
                    {{ form.description|add_class:"mt-1 border bg-transparent border-gray-400 block w-full p-2 outline-1 outline-[#1e90ff] rounded-md" }}
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700" for="{{ form.mission_statement.id_for_label }}">Mission Statement</label>
                    {{ form.mission_statement|add_class:"mt-1 border bg-transparent border-gray-400 block w-full p-2 outline-1 outline-[#1e90ff] rounded-md" }}
                </div>
            </section>


            <!-- Social Links & Video -->
            <section>
                <h2 class="text-xl font-semibold mb-4">Social Links & Video</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.linkedin.id_for_label }}">LinkedIn</label>
                        {{ form.linkedin }}
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700" for="{{ form.video_introduction.id_for_label }}">Company Video</label>
                        {{ form.video_introduction }}
                    </div>
                </div>
            </section>


            <!-- Submit Button -->
            <div class="flex justify-end mt-6">
                <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Save Changes</button>
            </div>
        </form>
    </main>
    <!-- CKEditor Initialization Script -->
    <script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
    <script>
        CKEDITOR.replace('description');
        CKEDITOR.replace('mission_statement');
    </script>
{% endblock %}
